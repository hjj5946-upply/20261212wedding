<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Naver Map Test</title>
    <style>
      #map { width: 100%; height: 300px; border: 1px solid #ddd; border-radius: 16px; }
    </style>

    <script>
      // ✅ 스크립트 로드 전에 선언되어야 함
      window.navermap_authFailure = function () {
        alert("navermap_authFailure: 인증 실패(키/도메인/파라미터 확인 필요)");
      };
    </script>

    <!-- ✅ 둘 중 하나만 사용. 우선 ncpKeyId로 테스트 -->
    <script src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=ki0tpw49xt"></script>
    <!-- <script src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=ki0tpw49xt"></script> -->
  </head>

  <body>
    <h3>Naver Map Test</h3>
    <div id="map"></div>

    <script>
      // ✅ 지도 생성 코드가 있어야 화면에 뭔가 나옴
      const lat = 37.4029;
      const lng = 127.0130;

      // 스크립트가 로드되었는지 최소 확인
      if (!window.naver || !window.naver.maps) {
        console.error("naver.maps가 없습니다. 스크립트 로드/인증 실패 가능");
      } else {
        const center = new naver.maps.LatLng(lat, lng);
        const map = new naver.maps.Map("map", { center, zoom: 16 });
        new naver.maps.Marker({ position: center, map });
      }
    </script>
  </body>
</html>
